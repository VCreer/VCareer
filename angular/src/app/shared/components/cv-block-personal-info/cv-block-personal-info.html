<div class="cv-block-personal-info" [formGroup]="form">
  <input #fileInput type="file" accept="image/*" class="hidden-file-input" (change)="onFileSelected($event)">

  <div class="avatar-dropzone"
       [class.drag-over]="isDragOver"
       (click)="onUploadClick()"
       (dragover)="onDragOver($event)"
       (dragleave)="onDragLeave($event)"
       (drop)="onDrop($event)">
    <div class="avatar-toolbar">
      <button type="button" class="btn-move" title="Kéo để di chuyển">
        <i class="fa fa-arrows-alt"></i>
      </button>
      <button type="button" class="btn-delete" title="Xóa ảnh" (click)="onRemoveImage(); $event.stopPropagation();">
        Xóa
      </button>
    </div>

    <div class="avatar-frame">
      <div class="avatar-preview" [style.backgroundImage]="form.value.profileImageUrl ? 'url(' + form.value.profileImageUrl + ')' : 'none'">
        <img *ngIf="form.value.profileImageUrl" [src]="form.value.profileImageUrl" alt="Avatar">
        <div class="placeholder" *ngIf="!form.value.profileImageUrl">
          <div class="placeholder-circle"></div>
        </div>
        <button type="button" class="btn-edit" (click)="onUploadClick(); $event.stopPropagation();">
          <i class="fa fa-pencil"></i>
          <span>Sửa ảnh</span>
        </button>
      </div>
    </div>

    <div class="avatar-hint">
      Kéo thả ảnh vào khung hoặc nhấn để chọn file. Ảnh sẽ được lưu vào trường URL dưới dạng base64.
    </div>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label>Họ và tên <span class="required">*</span></label>
      <input 
        type="text" 
        formControlName="fullName"
        placeholder="Nhập họ và tên"
        class="form-control">
    </div>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label>Email <span class="required">*</span></label>
      <input 
        type="email" 
        formControlName="email"
        placeholder="example@email.com"
        class="form-control">
    </div>
    <div class="form-group">
      <label>Số điện thoại <span class="required">*</span></label>
      <input 
        type="tel" 
        formControlName="phoneNumber"
        placeholder="0123456789"
        class="form-control">
    </div>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label>Ngày sinh</label>
      <input 
        type="date" 
        formControlName="dateOfBirth"
        class="form-control">
    </div>
    <div class="form-group">
      <label>Giới tính</label>
      <select formControlName="gender" class="form-control">
        <option [value]="null">Chọn giới tính</option>
        <option [value]="true">Nam</option>
        <option [value]="false">Nữ</option>
      </select>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group full-width">
      <label>Địa chỉ</label>
      <input 
        type="text" 
        formControlName="address"
        placeholder="Nhập địa chỉ"
        class="form-control">
    </div>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label>LinkedIn</label>
      <input 
        type="url" 
        formControlName="linkedIn"
        placeholder="https://linkedin.com/in/..."
        class="form-control">
    </div>
    <div class="form-group">
      <label>GitHub</label>
      <input 
        type="url" 
        formControlName="gitHub"
        placeholder="https://github.com/..."
        class="form-control">
    </div>
  </div>

  <div class="form-row">
    <div class="form-group full-width">
      <label>Website</label>
      <input 
        type="url" 
        formControlName="website"
        placeholder="https://..."
        class="form-control">
    </div>
  </div>
</div>

