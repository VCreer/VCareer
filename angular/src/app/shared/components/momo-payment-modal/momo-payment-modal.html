<div class="momo-modal-overlay" *ngIf="show" (click)="onClose()">
  <div class="momo-modal" (click)="$event.stopPropagation()">
    <div class="momo-modal-header">
      <h2 class="modal-title">Thanh toán bằng Momo</h2>
      <button type="button" class="close-btn" (click)="onClose()">
        <i class="fa fa-times"></i>
      </button>
    </div>

    <div class="momo-modal-content">
      <div class="qr-code-section">
        <div class="qr-code-placeholder">
          <!-- QR Code placeholder - in production, use a QR code library like qrcode.js -->
          <div class="qr-code-pattern">
            <svg width="200" height="200" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
              <!-- QR Code pattern simulation -->
              <rect width="200" height="200" fill="white"/>
              <!-- Corner markers -->
              <rect x="20" y="20" width="40" height="40" fill="black"/>
              <rect x="25" y="25" width="30" height="30" fill="white"/>
              <rect x="30" y="30" width="20" height="20" fill="black"/>
              
              <rect x="140" y="20" width="40" height="40" fill="black"/>
              <rect x="145" y="25" width="30" height="30" fill="white"/>
              <rect x="150" y="30" width="20" height="20" fill="black"/>
              
              <rect x="20" y="140" width="40" height="40" fill="black"/>
              <rect x="25" y="145" width="30" height="30" fill="white"/>
              <rect x="30" y="150" width="20" height="20" fill="black"/>
              
              <!-- Random pattern for QR code data -->
              <rect x="70" y="20" width="8" height="8" fill="black"/>
              <rect x="85" y="20" width="8" height="8" fill="black"/>
              <rect x="100" y="20" width="8" height="8" fill="black"/>
              <rect x="115" y="20" width="8" height="8" fill="black"/>
              <rect x="20" y="70" width="8" height="8" fill="black"/>
              <rect x="35" y="70" width="8" height="8" fill="black"/>
              <rect x="50" y="70" width="8" height="8" fill="black"/>
              <rect x="70" y="35" width="8" height="8" fill="black"/>
              <rect x="85" y="35" width="8" height="8" fill="black"/>
              <rect x="100" y="50" width="8" height="8" fill="black"/>
              <rect x="115" y="50" width="8" height="8" fill="black"/>
              <rect x="130" y="50" width="8" height="8" fill="black"/>
              <rect x="70" y="70" width="8" height="8" fill="black"/>
              <rect x="85" y="70" width="8" height="8" fill="black"/>
              <rect x="100" y="70" width="8" height="8" fill="black"/>
              <rect x="115" y="70" width="8" height="8" fill="black"/>
              <rect x="130" y="70" width="8" height="8" fill="black"/>
              <rect x="145" y="70" width="8" height="8" fill="black"/>
              <rect x="160" y="70" width="8" height="8" fill="black"/>
              <rect x="175" y="70" width="8" height="8" fill="black"/>
              <rect x="70" y="85" width="8" height="8" fill="black"/>
              <rect x="100" y="85" width="8" height="8" fill="black"/>
              <rect x="130" y="85" width="8" height="8" fill="black"/>
              <rect x="160" y="85" width="8" height="8" fill="black"/>
              <rect x="20" y="100" width="8" height="8" fill="black"/>
              <rect x="35" y="100" width="8" height="8" fill="black"/>
              <rect x="50" y="100" width="8" height="8" fill="black"/>
              <rect x="70" y="100" width="8" height="8" fill="black"/>
              <rect x="85" y="100" width="8" height="8" fill="black"/>
              <rect x="115" y="100" width="8" height="8" fill="black"/>
              <rect x="130" y="100" width="8" height="8" fill="black"/>
              <rect x="145" y="100" width="8" height="8" fill="black"/>
              <rect x="160" y="100" width="8" height="8" fill="black"/>
              <rect x="175" y="100" width="8" height="8" fill="black"/>
              <rect x="20" y="115" width="8" height="8" fill="black"/>
              <rect x="50" y="115" width="8" height="8" fill="black"/>
              <rect x="70" y="115" width="8" height="8" fill="black"/>
              <rect x="100" y="115" width="8" height="8" fill="black"/>
              <rect x="130" y="115" width="8" height="8" fill="black"/>
              <rect x="160" y="115" width="8" height="8" fill="black"/>
              <rect x="20" y="130" width="8" height="8" fill="black"/>
              <rect x="35" y="130" width="8" height="8" fill="black"/>
              <rect x="50" y="130" width="8" height="8" fill="black"/>
              <rect x="70" y="130" width="8" height="8" fill="black"/>
              <rect x="85" y="130" width="8" height="8" fill="black"/>
              <rect x="100" y="130" width="8" height="8" fill="black"/>
              <rect x="115" y="130" width="8" height="8" fill="black"/>
              <rect x="130" y="130" width="8" height="8" fill="black"/>
              <rect x="145" y="130" width="8" height="8" fill="black"/>
              <rect x="160" y="130" width="8" height="8" fill="black"/>
              <rect x="175" y="130" width="8" height="8" fill="black"/>
              <rect x="70" y="145" width="8" height="8" fill="black"/>
              <rect x="85" y="145" width="8" height="8" fill="black"/>
              <rect x="100" y="145" width="8" height="8" fill="black"/>
              <rect x="115" y="145" width="8" height="8" fill="black"/>
              <rect x="130" y="145" width="8" height="8" fill="black"/>
              <rect x="145" y="145" width="8" height="8" fill="black"/>
              <rect x="160" y="145" width="8" height="8" fill="black"/>
              <rect x="175" y="145" width="8" height="8" fill="black"/>
              <rect x="70" y="160" width="8" height="8" fill="black"/>
              <rect x="100" y="160" width="8" height="8" fill="black"/>
              <rect x="130" y="160" width="8" height="8" fill="black"/>
              <rect x="160" y="160" width="8" height="8" fill="black"/>
              <rect x="70" y="175" width="8" height="8" fill="black"/>
              <rect x="85" y="175" width="8" height="8" fill="black"/>
              <rect x="100" y="175" width="8" height="8" fill="black"/>
              <rect x="115" y="175" width="8" height="8" fill="black"/>
              <rect x="130" y="175" width="8" height="8" fill="black"/>
              <rect x="145" y="175" width="8" height="8" fill="black"/>
              <rect x="160" y="175" width="8" height="8" fill="black"/>
              <rect x="175" y="175" width="8" height="8" fill="black"/>
            </svg>
          </div>
        </div>
      </div>

      <div class="instructions-section">
        <h3 class="instructions-title">Thực hiện theo hướng dẫn sau để thanh toán</h3>
        <ol class="instructions-list">
          <li>Mở ứng dụng Momo để thanh toán</li>
          <li>Chọn "Quét mã" để quét mã QR code</li>
          <li>Chọn "Xác nhận" để thanh toán</li>
        </ol>

        <div class="countdown-section">
          <p class="countdown-text">
            Qrcode sẽ tự động hết hạn sau 
            <span class="countdown-number">{{ countdown }}</span> 
            giây
          </p>
        </div>
      </div>
    </div>

    <div class="momo-modal-footer">
      <button type="button" class="decline-btn" (click)="onDecline()">
        Từ chối
      </button>
    </div>
  </div>
</div>

