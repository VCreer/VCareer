<div class="job-list-detail" *ngIf="selectedJob">
  <!-- Toast Notification -->
  <app-toast-notification
    [show]="showToast"
    [message]="toastMessage"
    [type]="toastType"
    (close)="onToastClose()">
  </app-toast-notification>

  <!-- Fixed Header Section -->
  <div class="fixed-header">
    <!-- Header with Close Button and Job Title -->
    <div class="title-header">
      <h2 class="job-title">{{ selectedJob.title || 'Chưa có tiêu đề' }}</h2>
      <button class="close-btn" (click)="onClose()">
        <i class="fa fa-times"></i>
      </button>
    </div>

    <!-- Job Tags and View Detail Link Row -->
    <div class="tags-row">
      <div class="job-tags">
        <span class="tag">{{ formatSalary(selectedJob) }}</span>
        <span class="tag">{{ getLocationText(selectedJob) }}</span>
        <span class="tag">{{ formatExperience(selectedJob.experience) }}</span>
      </div>
      <a class="view-detail-link" (click)="onViewDetail()">
        {{ translate('job_detail.view_detail') }}
      </a>
    </div>

    <!-- Apply Button Row -->
    <div class="apply-btn-row">
      <button class="apply-btn" (click)="onApply()">
        {{ translate('job_detail.apply_now') }}
      </button>
      <button class="heart-btn" [class.active]="isHeartActive" (click)="onToggleHeart()">
        <i class="fa fa-heart"></i>
      </button>
    </div>

    <!-- Divider -->
    <div class="divider"></div>
  </div>

  <!-- Scrollable Content Starts Here -->
  <div class="scrollable-content">
    <!-- Job Description -->
    <section class="detail-section" *ngIf="selectedJob?.description">
      <h3 class="section-title">{{ translate('job_detail.job_description') }}</h3>
      <div class="detail-text" [innerHTML]="formatText(selectedJob.description)"></div>
    </section>

    <!-- Candidate Requirements -->
    <section class="detail-section" *ngIf="selectedJob?.requirements">
      <h3 class="section-title">{{ translate('job_detail.candidate_requirements') }}</h3>
      <div class="detail-text" [innerHTML]="formatText(selectedJob.requirements)"></div>
    </section>

    <!-- Benefits -->
    <section class="detail-section" *ngIf="selectedJob?.benefits">
      <h3 class="section-title">{{ translate('job_detail.benefits') }}</h3>
      <div class="detail-text" [innerHTML]="formatText(selectedJob.benefits)"></div>
    </section>

    <!-- Work Location -->
    <section class="detail-section" *ngIf="selectedJob?.workLocation">
      <h3 class="section-title">{{ translate('job_detail.work_location') }}</h3>
      <p class="detail-text">{{ selectedJob.workLocation }}</p>
    </section>

    <!-- Working Hours -->
    <section class="detail-section" *ngIf="selectedJob?.workTime">
      <h3 class="section-title">{{ translate('job_detail.working_hours') }}</h3>
      <p class="detail-text">{{ selectedJob.workTime }}</p>
    </section>
  </div> <!-- End scrollable-content -->
</div> <!-- End job-list-detail -->
