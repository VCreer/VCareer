<div class="register-container">
  <div class="register-wrapper">
    <!-- Cột bên trái - Image Section -->
    <div class="image-section">
      <div class="image-content">
        <img src="assets/images/regsiter-cecruiter.png" alt="Professional Recruiter" class="team-image" />
      </div>
    </div>

    <!-- Cột bên phải - Form đăng ký -->
    <div class="register-form-section">
      <div class="register-card">
        <!-- Header -->
        <div class="register-header">
          <div class="logo-container">
            <img src="assets/images/login/logo-login.png" alt="VCareer Logo" class="logo-image" />
          </div>
          <h2 class="welcome-title">Tạo tài khoản nhà tuyển dụng</h2>
          <p class="welcome-description">Đăng ký ngay để bắt đầu tìm kiếm ứng viên phù hợp với doanh nghiệp của bạn.</p>
        </div>

        <!-- Form đăng ký -->
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
          <!-- Email đăng nhập -->
          <div class="form-group">
            <label class="form-label-bold">Email đăng nhập</label>
            <div class="input-with-icon">
              <input
                type="email"
                formControlName="email"
                class="form-input"
                [class.error]="hasFieldError('email')"
                placeholder="Email"
              />
            </div>
            <div class="warning-message">
              Trường hợp bạn đăng ký tài khoản bằng email không phải email tên miền công ty, một số dịch vụ trên tài khoản có thể sẽ bị giới hạn quyền mua hoặc sử dụng.
            </div>
            <div class="error-message" *ngIf="hasFieldError('email')">
              {{ getFieldError('email') }}
            </div>
          </div>

          <!-- Mật khẩu -->
          <div class="form-group">
            <label class="form-label-bold">Mật khẩu</label>
            <div class="input-with-icon">
              <input
                [type]="showPassword ? 'text' : 'password'"
                formControlName="password"
                class="form-input"
                [class.error]="hasFieldError('password')"
                placeholder="Mật khẩu ( từ 6 đến 25 ký tự )"
              />
              <button type="button" class="password-toggle" (click)="togglePassword()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z" stroke="currentColor" stroke-width="2"/>
                  <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
            <div class="error-message" *ngIf="hasFieldError('password')">
              {{ getFieldError('password') }}
            </div>
          </div>

          <!-- Nhập lại mật khẩu -->
          <div class="form-group">
            <label class="form-label-bold">Nhập lại mật khẩu</label>
            <div class="input-with-icon">
              <input
                [type]="showConfirmPassword ? 'text' : 'password'"
                formControlName="confirmPassword"
                class="form-input"
                [class.error]="hasFieldError('confirmPassword')"
                placeholder="Nhập lại mật khẩu"
              />
              <button type="button" class="password-toggle" (click)="toggleConfirmPassword()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z" stroke="currentColor" stroke-width="2"/>
                  <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
            <div class="error-message" *ngIf="hasFieldError('confirmPassword')">
              {{ getFieldError('confirmPassword') }}
            </div>
          </div>

          <!-- Thông tin nhà tuyển dụng -->
          <div class="form-group">
            <label class="form-label-bold no-asterisk">Thông tin nhà tuyển dụng</label>
          </div>

          <!-- Họ và tên và Giới tính -->
          <div class="form-row">
            <div class="form-group-half">
              <label class="form-label-bold">Họ và tên</label>
              <div class="input-with-icon">
                <input
                  type="text"
                  formControlName="fullName"
                  class="form-input"
                  [class.error]="hasFieldError('fullName')"
                  placeholder="Họ và tên"
                />
              </div>
              <div class="error-message" *ngIf="hasFieldError('fullName')">
                {{ getFieldError('fullName') }}
              </div>
            </div>
            
            <div class="form-group-half">
              <label class="form-label-bold no-asterisk">Giới tính:</label>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" formControlName="gender" value="male" class="radio-input">
                  <span class="radio-text">Nam</span>
                </label>
                <label class="radio-option">
                  <input type="radio" formControlName="gender" value="female" class="radio-input">
                  <span class="radio-text">Nữ</span>
                </label>
              </div>
              <div class="error-message" *ngIf="hasFieldError('gender')">
                {{ getFieldError('gender') }}
              </div>
            </div>
          </div>

          <!-- Số điện thoại cá nhân -->
          <div class="form-group">
            <label class="form-label-bold">Số điện thoại cá nhân</label>
            <div class="input-with-icon">
              <input
                type="tel"
                formControlName="phone"
                class="form-input"
                [class.error]="hasFieldError('phone')"
                placeholder="Số điện thoại cá nhân"
              />
            </div>
            <div class="error-message" *ngIf="hasFieldError('phone')">
              {{ getFieldError('phone') }}
            </div>
          </div>

          <!-- Công ty -->
          <div class="form-group">
            <label class="form-label-bold">Công ty</label>
            <div class="input-with-icon">
              <input
                type="text"
                formControlName="companyName"
                class="form-input"
                [class.error]="hasFieldError('companyName')"
                placeholder="Tên công ty"
              />
            </div>
            <div class="error-message" *ngIf="hasFieldError('companyName')">
              {{ getFieldError('companyName') }}
            </div>
          </div>

          <!-- Địa điểm làm việc -->
          <div class="form-group">
            <label class="form-label-bold">Địa điểm làm việc</label>
            <div class="location-row">
              <div class="location-field">
                <div class="input-with-icon">
                  <select
                    formControlName="city"
                    class="form-input"
                    [class.error]="hasFieldError('city')"
                  >
                    <option value="">Chọn tỉnh/thành phố</option>
                    <option value="hanoi">Hà Nội</option>
                    <option value="hcm">TP. Hồ Chí Minh</option>
                    <option value="danang">Đà Nẵng</option>
                    <option value="haiphong">Hải Phòng</option>
                    <option value="cantho">Cần Thơ</option>
                  </select>
                </div>
                <div class="error-message" *ngIf="hasFieldError('city')">
                  Tỉnh/thành phố không được để trống
                </div>
              </div>
              <div class="location-field">
                <div class="input-with-icon">
                  <input
                    type="text"
                    formControlName="district"
                    class="form-input"
                    [class.error]="hasFieldError('district')"
                    placeholder="Chọn quận/huyện"
                  />
                </div>
                <div class="error-message" *ngIf="hasFieldError('district')">
                  {{ getFieldError('district') }}
                </div>
              </div>
            </div>
          </div>

          <!-- Đồng ý điều khoản -->
          <div class="form-group">
            <label class="terms-checkbox">
              <input
                type="checkbox"
                formControlName="agreeTerms"
                class="checkbox-input"
                [class.error]="hasFieldError('agreeTerms')"
              />
              <span class="checkbox-text">
                Tôi đã đọc và đồng ý với 
                <a href="#" class="terms-link">Điều khoản dịch vụ</a> 
                và 
                <a href="#" class="terms-link">Chính sách bảo mật</a> 
                của VCareer.
              </span>
            </label>
            <div class="error-message" *ngIf="hasFieldError('agreeTerms')">
              {{ getFieldError('agreeTerms') }}
            </div>
          </div>

          <!-- Nút đăng ký -->
          <button
            type="submit"
            class="register-button"
            [disabled]="isLoading"
          >
            <span *ngIf="!isLoading">Hoàn tất</span>
            <span *ngIf="isLoading" class="loading-spinner">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" opacity="0.25"/>
                <path d="M12 2C6.477 2 2 6.477 2 12" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
              </svg>
              Đang xử lý...
            </span>
          </button>

          <!-- Divider -->
          <div class="divider">
            <span class="divider-text">Hoặc</span>
          </div>

          <!-- Nút đăng ký Google -->
          <button 
            type="button" 
            class="google-sign-up-btn"
            (click)="signInWithGoogle()"
            [disabled]="isLoading"
          >
            <svg class="google-icon" width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
              <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.09v2.84C3.97 20.53 7.64 23 12 23z" fill="#34A853"/>
              <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.09C1.43 8.55 1 10.22 1 12s.43 3.45 1.09 4.93l2.75-2.84.8-.8z" fill="#FBBC05"/>
              <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.64 1 3.97 3.47 2.09 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
            </svg>
            <span>Đăng ký bằng Google</span>
          </button>

          <!-- Link đăng nhập -->
          <div class="login-link">
            <span>Đã có tài khoản?</span>
            <a (click)="goToLogin()" class="login-link-text">Đăng nhập ngay</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Thông báo thành công -->
  <div *ngIf="showSuccessMessage" class="success-notification">
    <div class="notification-content">
      <svg class="success-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M22 11.08V12A10 10 0 1 1 5.93 5.93"/>
        <polyline points="22,4 12,14.01 9,11.01"/>
      </svg>
      <span>Đăng ký thành công! Đang chuyển hướng...</span>
    </div>
  </div>

  <!-- Thông báo lỗi -->
  <div *ngIf="showErrorMessage" class="error-notification">
    <div class="notification-content">
      <svg class="error-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <line x1="15" y1="9" x2="9" y2="15"/>
        <line x1="9" y1="9" x2="15" y2="15"/>
      </svg>
      <span>{{ errorMessage }}</span>
    </div>
  </div>
</div>